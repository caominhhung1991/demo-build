(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[31],{1063:function(e,n,t){"use strict";t.r(n);var a=t(3),r=t(10),l=(t(922),t(923),t(924),t(925),t(0)),u=t.n(l),i=t(9),c=t(190),o=t(48),d=t(46),f=t(905),m=function(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n||[],l=a.isHungCao;return l||(r=(r=n.filter((function(e){var n;return null===t||void 0===t||null===(n=t[e.key])||void 0===n?void 0:n.access}))).filter((function(e){return!(null===e||void 0===e?void 0:e.hide)}))),r.map((function(e){var n=e.children||[];l||(n=(n=n.filter((function(e){var n;return null===t||void 0===t||null===(n=t[e.key])||void 0===n?void 0:n.access}))).filter((function(e){return!(null===e||void 0===e?void 0:e.hide)})));var a=n.length>0;return{id:e.key,name:e.title,url:e.url,icon:e.icon,children:a?n.map((function(e){return{id:e.id,name:e.title,url:e.url,icon:e.icon}})):null}}))},s=t(320),v=t(13),b=t(1028),h={thucDonBepChuyen:Object(l.lazy)((function(){return Promise.all([t.e(0),t.e(4),t.e(17)]).then(t.bind(null,1059))})),duTruBepChuyen:u.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(18)]).then(t.bind(null,1060))})),gopDuTru:u.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(21),t.e(14)]).then(t.bind(null,1051))})),hienThiPhanAn:Object(l.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(24),t.e(15)]).then(t.bind(null,1061))})),thongKeHTPA:Object(l.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(20)]).then(t.bind(null,1066))})),taoDonDatHangCom:Object(l.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(4),t.e(11)]).then(t.bind(null,1049))})),donDatHangCom:Object(l.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(19)]).then(t.bind(null,1067))})),baoCaoCom:Object(l.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(4),t.e(10)]).then(t.bind(null,1048))})),khoNuoc:Object(l.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(30)]).then(t.bind(null,1062))}))},p=t(706),y=t(292),E=u.a.lazy((function(){return t.e(22).then(t.bind(null,1056))})),j=u.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(29)]).then(t.bind(null,1042))}));n.default=function(e){var n=Object(p.a)(),t=Object(p.b)((function(e){return e.route})),O=t.config,g=t.userPaths,k=u.a.useMemo((function(){return(null===O||void 0===O?void 0:O.path)?O.path:[]}),[O]),P=u.a.useMemo((function(){var e;return null===(e=Object(d.b)("employee"))||void 0===e?void 0:e.role}),[]),z=u.a.useMemo((function(){var e=Object(v.d)();return"admin"===(null===e||void 0===e?void 0:e.id)}),[]),C=u.a.useMemo((function(){return{items:m(P,k,g,{isHungCao:z})}}),[z,P,k,g]),D=u.a.useMemo((function(){var e=k.reduce((function(e,n){var t=function e(n,t){var a=t.children;if(!a)return[].concat(Object(r.a)(n),[t]);var l=a.reduce((function(n,t){return e(n,t)}),[]);return[].concat(Object(r.a)(n),[t],Object(r.a)(l))}([],n);return[].concat(Object(r.a)(e),Object(r.a)(t))}),[]).reduce((function(e,n){var t=(null===h||void 0===h?void 0:h[n.key])||null;if(!t)return e;var l=Object(a.a)(Object(a.a)({},n),{},{component:t});return[].concat(Object(r.a)(e),[l])}),[]);return z?e:k&&g?e=e.filter((function(e){var n;return null===g||void 0===g||null===(n=g[e.key])||void 0===n?void 0:n.access})):[]}),[z,k,g]);return u.a.useEffect((function(){var e=null;n(Object(y.b)());var t=Object(v.k)();return e=i.a.firestore().collection("employees").where("username","==",t).onSnapshot((function(e){var n,t=[];e.forEach((function(e){t.push(e.data())})),(null===t||void 0===t||null===(n=t[0])||void 0===n?void 0:n.active)||Object(v.p)()})),function(){e&&e()}}),[]),u.a.createElement("div",{className:"app"},u.a.createElement(f.a,{fixed:!0},u.a.createElement(l.Suspense,{fallback:u.a.createElement(s.a,null)},u.a.createElement(E,{onLogout:function(n){n&&n.preventDefault(),e.history.push("/login")}}))),u.a.createElement("div",{className:"app-body"},u.a.createElement(f.d,{fixed:!0,display:"lg"},u.a.createElement(f.g,null),u.a.createElement(f.f,null),u.a.createElement(f.i,Object.assign({navConfig:C},e,{router:c})),u.a.createElement(f.e,null),u.a.createElement(f.h,null)),D.length>0?u.a.createElement("main",{className:"main"},u.a.createElement("div",{className:"main-container"},u.a.createElement(l.Suspense,{fallback:u.a.createElement(s.a,null)},u.a.createElement(o.g,null,D.map((function(e){return u.a.createElement(o.d,{key:e.key,path:e.url,exact:e.exact,name:e.title,render:function(){return u.a.createElement(e.component,null)}})})),u.a.createElement(o.d,{path:"/",exact:!1,render:function(){return u.a.createElement(j,null)}}),u.a.createElement(o.c,{from:"/",to:"/"}))))):null,u.a.createElement(b.a,null)))}},706:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return l}));var a=t(304),r=function(){return Object(a.b)()},l=a.c}}]);