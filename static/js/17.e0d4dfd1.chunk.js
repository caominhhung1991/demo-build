(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[17],{1017:function(e,n,t){},1059:function(e,n,t){"use strict";t.r(n);var a=t(16),c=t(3),i=t(30),o=(t(1017),t(0)),u=t.n(o),r=t(10),l=t(725),d=t(701),f=t(702),s=t(910),m=t(42),O=t(854),h=t(706),v=Array(52).fill(1).reduce((function(e,n,t){return[].concat(Object(r.a)(e),[n+t])}),[]),D=Array(5).fill(2022).reduce((function(e,n,t){return[].concat(Object(r.a)(e),[n+t])}),[]),b=function(e){var n=e.userConfig,t=e.userConfigHandle,a=n||{},c=a.yearId,i=a.customerId,o=a.weekId,r=(null===t||void 0===t?void 0:t.setConfig)?t.setConfig:m.noop,b=Object(h.b)((function(e){return e.thucDon})).hienThiTatCaNoiPhucVu;return u.a.createElement(d.a,{className:"justify-content-center",gutter:[5,5]},u.a.createElement(f.a,null,u.a.createElement(l.a,{style:{width:"170px"},onSelectDiaDiem:function(e){r(["coSoId"],e),r(["customerId"],"")}})),b?null:u.a.createElement(f.a,null,u.a.createElement(O.a,{style:{width:230},customerId:i,setConfig:r})),u.a.createElement(f.a,null,u.a.createElement(s.a,{value:o,style:{width:"70px"},onChange:function(e){r(["weekId"],e)}},v.map((function(e){return u.a.createElement(s.a.Option,{key:e,value:e},e)})))),u.a.createElement(f.a,null,u.a.createElement(s.a,{style:{width:"100px"},value:c,onChange:function(e){r(["yearId"],e)}},D.map((function(e){return u.a.createElement(s.a.Option,{key:e,value:e},e)})))))},_=t(669),g=t(807),C=t(288),E=t(295),j=t(298),N=t(293),A=t(290),p=t(311),y=t(919),M=t(328),L=t(709),I=t(284);var H=function(){var e=Object(h.a)(),n=Object(h.b)((function(e){return e.thucDon})).hienThiTatCaNoiPhucVu;return u.a.createElement("div",{className:"dutru-header"},u.a.createElement("div",{className:"dutru-header__left"},u.a.createElement(A.a,{icon:u.a.createElement(p.a,null),type:n?"primary":"",danger:n,onClick:function(){e(Object(M.d)(!n))}},n?"\u0110\xf3ng hi\u1ec3n":"Hi\u1ec3n"," th\u1ecb t\u1ea5t c\u1ea3 n\u01a1i ph\u1ee5c v\u1ee5")),u.a.createElement("div",{className:"dutru-header__right"},u.a.createElement(A.a,{icon:u.a.createElement(y.a,null),onClick:function(){e(Object(I.c)({modalId:L.a.thucDonModal}))}},"Ch\u1ee9c n\u0103ng kh\xe1c")))},k=t(11),T=t.n(k),U=t(25),S=t(717),G=t(66),w=t.n(G),Y=t(134),x=t(23),P=function(e){var n=e.modalId,t=e.userConfigHandle,a=n||L.a.thucDonModal,c=(null===t||void 0===t?void 0:t.setConfig)?t.setConfig:m.noop,i=Object(h.a)(),o=Object(h.b)((function(e){return e.form})).modal,r=u.a.useMemo((function(){var e;return!!(null===o||void 0===o||null===(e=o[a])||void 0===e?void 0:e.open)}),[o[a]]),l=u.a.useMemo((function(){return Object(Y.f)(w()())}),[]);function d(){return f.apply(this,arguments)}function f(){return(f=Object(U.a)(T.a.mark((function e(){var n,t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.currentWeek,t=l.yearId,n&&t){e.next=3;break}return e.abrupt("return",Object(x.a)("Kh\xf4ng t\xecm th\u1ea5y tu\u1ea7n v\xe0 n\u0103m hi\u1ec7n t\u1ea1i!"));case 3:c(["weekId"],n),c(["yearId"],t),i(Object(I.a)({modalId:a})),Object(x.c)("\u0110\xe3 ch\u1ecdn tu\u1ea7n ".concat(n,", n\u0103m ").concat(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return u.a.createElement(S.MyModal,{title:u.a.createElement("div",null,"Ch\u1ee9c N\u0103ng Kh\xe1c"),visible:r,onClose:function(){i(Object(I.a)({modalId:a}))},onOkModal:d,width:700,modalId:a,footer:!1},u.a.createElement(A.a,{onClick:d},"Ch\u1ecdn tu\u1ea7n hi\u1ec7n t\u1ea1i: Tu\u1ea7n ",null===l||void 0===l?void 0:l.currentWeek,", n\u0103m ",null===l||void 0===l?void 0:l.yearId))},K=u.a.lazy((function(){return Promise.all([t.e(1),t.e(28)]).then(t.bind(null,1044))})),z=u.a.lazy((function(){return t.e(23).then(t.bind(null,1068))})),F=Object(o.memo)((function(e){var n=e.history,t=Object(h.a)(),r=Object(h.b)((function(e){return e.thucDonDuTruSetting})),l=r.shiftsArray,d=r.nhomGiaMonAns,f=r.nhomGiaMonAnData,s=Object(h.b)((function(e){return e.diaDiem})).diaDiemData,O=null===s||void 0===s?void 0:s.id,v=Object(g.a)({child:["thucDonDuTruConfig"]}),D=Object(i.a)(v,1)[0],A=(null===D||void 0===D?void 0:D.thucDonDuTruConfig)||{},p=A.customerId,y=A.yearId,M=A.weekId,L=Object(o.useState)({}),I=Object(i.a)(L,2),k=I[0],T=I[1],U=function(e){var n=!Object(m.get)(k,[e],!0);T(Object(c.a)(Object(c.a)({},k),{},Object(a.a)({},e,n)))};return u.a.useEffect((function(){t(Object(j.b)(p))}),[d,p]),u.a.useEffect((function(){t(Object(C.b)(null===f||void 0===f?void 0:f.id))}),[f]),u.a.useEffect((function(){return t(Object(N.f)(O,y,M)),function(){Object(N.m)()}}),[O,y,M]),u.a.useEffect((function(){t(Object(E.b)()),t(Object(j.c)(O)),t(Object(j.f)(O)),t(Object(j.i)(O)),t(Object(j.g)(O))}),[O]),u.a.useEffect((function(){t(Object(C.e)()),t(Object(j.h)())}),[]),u.a.createElement(u.a.Fragment,null,u.a.createElement(H,null),u.a.createElement("div",{className:"mt-2"},u.a.createElement(b,{userConfig:A,userConfigHandle:D})),u.a.createElement("div",null,l.map((function(e){var n=!1===k[null===e||void 0===e?void 0:e.id]?{display:"none"}:{};return u.a.createElement(o.Suspense,{key:null===e||void 0===e?void 0:e.id,fallback:u.a.createElement(_.a,{className:"osac-spin"})},u.a.createElement(K,{userConfig:A,userConfigHandle:D,isHideStyle:n,onHideDuTru:U,shiftData:e}))}))),u.a.createElement(o.Suspense,{fallback:u.a.createElement(_.a,{className:"osac-spin"})},u.a.createElement(z,{userConfig:A,onCancel:function(){return n.push("?")},customerId:p})),u.a.createElement(P,{userConfigHandle:D}))}));n.default=F},709:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var a={addDoanhThuThemBCC:"ADD_DOANH_THU_THEM_BCC_MODAL",addChiPhiMuaQuayNuoc:"ADD_CHI_PHI_MUA_QUAY_NUOC_MODAL",addTonCuoi:"ADD_TON_CUOI_MODAL",nguyenLieuModal:"NGUYEN_LIEU_MODAL",xuatNguyenLieuKhacModal:"XUAT_NGUYEN_LIEU_KHAC_MODAL",taoDonDatHangCom:"TAO_DON_DAT_HANG_COM_MODAL",donDangXuLyModal:"DON_DANG_XU_LY_MODAL",donDaNhanModal:"DON_DA_NHAN_MODAL",soLuongThuc:"SO_LUONG_THUC_MODAL",giaNguyenLieu:"GIA_NGUYEN_LIEU_MODAL",tongDinhLuong:"TONG_DINH_LUONG_MODAL",transferNhaCungCap:"TRANSFER_NHA_CUNG_CAP_MODAL",layNguyenLieuChung:"LAY_NGUYEN_LIEU_CHUNG_MODAL",nguyenLieuAddSoLuong:"NGUYEN_LIEU_ADD_SO_LUONG_MODAL",donDDHNMoiModal:"DON_DDHN_MOI_MODAL",donDatHangNuoc:"DON_DAT_HANG_NUOC_MODAL",addSoLuongDDHN:"ADD_SO_LUONG_DDHN_MODAL",thucDonModal:"THUC_DON_MODAL"}},721:function(e,n,t){},725:function(e,n,t){"use strict";var a=t(10),c=(t(721),t(0)),i=t.n(c),o=t(319),u=t(910),r=t(13),l=t(706),d=t(291),f=Object(c.memo)((function(e){var n=e.onSelectDiaDiem,t=e.classNames,c=e.disabled,f=Object(l.a)(),s=Object(l.b)((function(e){return e.diaDiem})),m=s.diaDiemData,O=s.diaDiems,h=s.diaDiemsArray;return i.a.createElement(o.a,{title:"Ch\u1ecdn \u0111\u1ecba \u0111i\u1ec3m"},i.a.createElement(u.a,{value:null===m||void 0===m?void 0:m.id,placeholder:"Ch\u1ecdn \u0111\u1ecba \u0111i\u1ec3m",onChange:function(e){f(Object(d.b)(null===O||void 0===O?void 0:O[e])),n&&n(e)},filterOption:r.m,className:["selectCantin"].concat(Object(a.a)(t||[])).join(" "),disabled:c},h?h.map((function(e){return i.a.createElement(u.a.Option,{key:e.id,value:e.id},e.name)})):null))}));n.a=f},771:function(e,n){},779:function(e,n){},780:function(e,n){},807:function(e,n,t){"use strict";var a=t(3),c=t(10),i=t(30),o=t(0),u=t.n(o),r=t(13),l=t(319),d=t(290),f=t(916),s=t(9),m=t(321);n.a=function(e){var n=e.child,t=Object(r.j)(),O=s.a.database().ref("".concat(m.a.id,"/configs/userConfig/").concat(t)),h=Object(o.useState)({}),v=Object(i.a)(h,2),D=v[0],b=v[1],_=Object(o.useState)(!1),g=Object(i.a)(_,2),C=g[0],E=g[1],j=null===n||void 0===n?void 0:n[0],N=null===D||void 0===D?void 0:D[null===n||void 0===n?void 0:n[0]];Object(o.useEffect)((function(){var e=null;return t&&(e=s.a.database().ref("".concat(m.a.id,"/configs/userConfig/").concat(t))).on("value",(function(e){var n=e.val();b(n)})),function(){e&&e.off()}}),[t]);return[Object(a.a)(Object(a.a)({},D),{},{child:n,childConst:j,userConfig:N,getSettingIcon:function(){return u.a.createElement(l.a,{key:"settingFilled",title:"Thi\u1ebft l\u1eadp"},u.a.createElement(d.a,{danger:C,onClick:function(){return E(!C)}},u.a.createElement(f.a,{style:{fontSize:18}})))},isOpenModal:C,onCancelModal:function(){return E(!1)},setConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;O.child([].concat(Object(c.a)(n),Object(c.a)(e)).join("/")).set(t)}})]}},854:function(e,n,t){"use strict";var a=t(3),c=t(0),i=t.n(c),o=t(319),u=t(910),r=t(706);n.a=function(e){var n=e.style,t=e.setConfig,c=e.customerId,l=Object(r.b)((function(e){return e.thucDonDuTruSetting})),d=l.khachHangsArray,f=l.khachHangs,s=null===f||void 0===f?void 0:f[c];return i.a.useEffect((function(){var e;!(null===s||void 0===s?void 0:s.id)&&t&&(console.log(null===d||void 0===d?void 0:d[0]),t(["customerId"],((null===d||void 0===d||null===(e=d[0])||void 0===e?void 0:e.id)||"")+""))}),[s,d]),i.a.createElement(o.a,{title:"Ch\u1ecdn n\u01a1i ph\u1ee5c v\u1ee5"},i.a.createElement(u.a,{onChange:function(e){t&&t(["customerId"],e)},value:c,style:Object(a.a)({width:"140px"},n)},(d||[]).map((function(e){return i.a.createElement(u.a.Option,{key:e.id,value:"".concat(e.id)},e.name)}))))}}}]);