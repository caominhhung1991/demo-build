(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[18],{1060:function(e,t,n){"use strict";n.r(t);var a=n(30),c=(n(820),n(0)),i=n.n(c),o=n(706),r=n(66),l=n.n(r),u=n(42),s=n(6),d=n(67),f=n(133),b=n.n(f),m=n(7),v=n.n(m),g=n(712),p={tag:g.e,"aria-label":b.a.string,className:b.a.string,cssModule:b.a.object,role:b.a.string},j=function(e){var t=e.className,n=e.cssModule,a=e.tag,c=Object(d.a)(e,["className","cssModule","tag"]),o=Object(g.c)(v()(t,"btn-toolbar"),n);return i.a.createElement(a,Object(s.a)({},c,{className:o}))};j.propTypes=p,j.defaultProps={tag:"div",role:"toolbar"};var O=j,h={tag:g.e,"aria-label":b.a.string,className:b.a.string,cssModule:b.a.object,role:b.a.string,size:b.a.string,vertical:b.a.bool},C=function(e){var t=e.className,n=e.cssModule,a=e.size,c=e.vertical,o=e.tag,r=Object(d.a)(e,["className","cssModule","size","vertical","tag"]),l=Object(g.c)(v()(t,!!a&&"btn-group-"+a,c?"btn-group-vertical":"btn-group"),n);return i.a.createElement(o,Object(s.a)({},r,{className:l}))};C.propTypes=h,C.defaultProps={tag:"div",role:"group"};var E=C,y=n(837),k=n(669),I=n(288),D=n(713),N=n(854),M=n(855),w=n(725),S=function(e){var t=e.setConfig,n=e.yearId,c=e.weekId,o=e.customerId;var r=[{element:"D\u1ef1 tr\xf9"},{element:i.a.createElement(w.a,{style:{minWidth:"150px"},onSelectDiaDiem:function(e){t(["coSoId"],e),t(["customerId"],"")}})},{element:i.a.createElement(N.a,{setConfig:t,customerId:o,style:{width:"230px"}})},{element:i.a.createElement(M.a,{setConfig:t,weekId:c})},{text:"Tu\u1ea7n ".concat(c,"-").concat(n)}],l=Object(D.b)({breadcrumbs:r,buttons:[]}),u=Object(a.a)(l,1)[0];return(null===u||void 0===u?void 0:u.getRender)&&u.getRender()},T=n(807),A=n(295),z=n(298),x=n(313),R=n(293),Y=i.a.lazy((function(){return n.e(34).then(n.bind(null,1045))})),H=i.a.lazy((function(){return n.e(27).then(n.bind(null,1053))}));t.default=function(){var e=Object(o.a)(),t=Object(o.b)((function(e){return e.diaDiem})).diaDiemData.id,n=Object(T.a)({child:["thucDonDuTruConfig"]}),r=Object(a.a)(n,1)[0],s=(null===r||void 0===r?void 0:r.thucDonDuTruConfig)||{},d=s.customerId,f=s.yearId,b=s.weekId,m=s.dayId,v=(null===r||void 0===r?void 0:r.setConfig)?r.setConfig:u.noop,g=Object(o.b)((function(e){return e.thucDonDuTruSetting})),p=g.shiftsArray,j=g.recipeKinds,h=g.nhomGiaMonAnsArray,C=g.nhomGiaMonAnData,D=Object(o.b)((function(e){return e.recipe})).ingreRecipeData,N=Object(o.b)((function(e){return e.time})),M=N.weekData,w=N.DAYS_ALL,P=Object(c.useState)({}),L=Object(a.a)(P,2),F=L[0],G=L[1];return i.a.useEffect((function(){b&&f&&e(Object(x.b)({week:b,year:f}))}),[b,f]),i.a.useEffect((function(){return t&&d&&f&&b&&m&&e(Object(R.g)(t,d,f,b,m)),function(){Object(R.n)()}}),[t,d,f,b,m]),i.a.useEffect((function(){e(Object(z.b)(d))}),[h,d]),i.a.useEffect((function(){e(Object(I.b)(null===C||void 0===C?void 0:C.id))}),[C]),i.a.useEffect((function(){e(Object(A.b)()),e(Object(z.c)(t)),e(Object(z.f)(t)),e(Object(z.g)(t))}),[t]),i.a.useEffect((function(){e(Object(I.e)()),e(Object(z.h)())}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(S,{setConfig:v,thucDonConfig:s,userConfigHandle:r,customerId:d,weekId:b,yearId:f,coSoId:t}),i.a.createElement("div",{className:"row mt-2"},i.a.createElement(c.Suspense,{fallback:i.a.createElement(k.a,{className:"osac-spin"})},i.a.createElement(Y,{customerId:d,coSoId:t,yearId:f,weekId:b,dayId:m,isInput:F,setIsInput:G})),i.a.createElement("div",{className:"col-lg-5"},i.a.createElement(O,null,i.a.createElement(E,{size:"sm"},w.getArray().map((function(e){var t=l()().format("DD-MM"),n=l()().format("YYYY"),a=t===M[e.enName]&&"".concat(n)==="".concat(f)?{border:"1px solid red",color:"red"}:{};return i.a.createElement(y.a,{key:e.id,onClick:function(){return function(e){v(["dayId"],e)}(e.id)},color:"warning",outline:m!==e.id,style:a},i.a.createElement("div",null,e.name),i.a.createElement("div",null,M[e.enName]))})))))),i.a.createElement("div",null,p.map((function(e){return i.a.createElement(c.Suspense,{key:e.id,fallback:i.a.createElement(k.a,{className:"osac-spin"})},i.a.createElement(H,{soMonMan:2,shiftConfig:e,recipeKinds:j,userConfig:s,userConfigHandle:r,nguyenLieusTrongMonAn:D,isInput:F,setIsInput:G}))}))))}},721:function(e,t,n){},725:function(e,t,n){"use strict";var a=n(10),c=(n(721),n(0)),i=n.n(c),o=n(319),r=n(910),l=n(13),u=n(706),s=n(291),d=Object(c.memo)((function(e){var t=e.onSelectDiaDiem,n=e.classNames,c=e.disabled,d=Object(u.a)(),f=Object(u.b)((function(e){return e.diaDiem})),b=f.diaDiemData,m=f.diaDiems,v=f.diaDiemsArray;return i.a.createElement(o.a,{title:"Ch\u1ecdn \u0111\u1ecba \u0111i\u1ec3m"},i.a.createElement(r.a,{value:null===b||void 0===b?void 0:b.id,placeholder:"Ch\u1ecdn \u0111\u1ecba \u0111i\u1ec3m",onChange:function(e){d(Object(s.b)(null===m||void 0===m?void 0:m[e])),t&&t(e)},filterOption:l.m,className:["selectCantin"].concat(Object(a.a)(n||[])).join(" "),disabled:c},v?v.map((function(e){return i.a.createElement(r.a.Option,{key:e.id,value:e.id},e.name)})):null))}));t.a=d},807:function(e,t,n){"use strict";var a=n(3),c=n(10),i=n(30),o=n(0),r=n.n(o),l=n(13),u=n(319),s=n(290),d=n(916),f=n(9),b=n(321);t.a=function(e){var t=e.child,n=Object(l.j)(),m=f.a.database().ref("".concat(b.a.id,"/configs/userConfig/").concat(n)),v=Object(o.useState)({}),g=Object(i.a)(v,2),p=g[0],j=g[1],O=Object(o.useState)(!1),h=Object(i.a)(O,2),C=h[0],E=h[1],y=null===t||void 0===t?void 0:t[0],k=null===p||void 0===p?void 0:p[null===t||void 0===t?void 0:t[0]];Object(o.useEffect)((function(){var e=null;return n&&(e=f.a.database().ref("".concat(b.a.id,"/configs/userConfig/").concat(n))).on("value",(function(e){var t=e.val();j(t)})),function(){e&&e.off()}}),[n]);return[Object(a.a)(Object(a.a)({},p),{},{child:t,childConst:y,userConfig:k,getSettingIcon:function(){return r.a.createElement(u.a,{key:"settingFilled",title:"Thi\u1ebft l\u1eadp"},r.a.createElement(s.a,{danger:C,onClick:function(){return E(!C)}},r.a.createElement(d.a,{style:{fontSize:18}})))},isOpenModal:C,onCancelModal:function(){return E(!1)},setConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;m.child([].concat(Object(c.a)(t),Object(c.a)(e)).join("/")).set(n)}})]}},820:function(e,t,n){},837:function(e,t,n){"use strict";var a=n(6),c=n(67),i=n(80),o=n(108),r=n(0),l=n.n(r),u=n(133),s=n.n(u),d=n(7),f=n.n(d),b=n(712),m={active:s.a.bool,"aria-label":s.a.string,block:s.a.bool,color:s.a.string,disabled:s.a.bool,outline:s.a.bool,tag:b.e,innerRef:s.a.oneOfType([s.a.object,s.a.func,s.a.string]),onClick:s.a.func,size:s.a.string,children:s.a.node,className:s.a.string,cssModule:s.a.object,close:s.a.bool},v=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(Object(o.a)(Object(o.a)(n))),n}Object(i.a)(t,e);var n=t.prototype;return n.onClick=function(e){this.props.disabled?e.preventDefault():this.props.onClick&&this.props.onClick(e)},n.render=function(){var e=this.props,t=e.active,n=e["aria-label"],i=e.block,o=e.className,r=e.close,u=e.cssModule,s=e.color,d=e.outline,m=e.size,v=e.tag,g=e.innerRef,p=Object(c.a)(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);r&&"undefined"===typeof p.children&&(p.children=l.a.createElement("span",{"aria-hidden":!0},"\xd7"));var j="btn"+(d?"-outline":"")+"-"+s,O=Object(b.c)(f()(o,{close:r},r||"btn",r||j,!!m&&"btn-"+m,!!i&&"btn-block",{active:t,disabled:this.props.disabled}),u);p.href&&"button"===v&&(v="a");var h=r?"Close":null;return l.a.createElement(v,Object(a.a)({type:"button"===v&&p.onClick?"button":void 0},p,{className:O,ref:g,onClick:this.onClick,"aria-label":n||h}))},t}(l.a.Component);v.propTypes=m,v.defaultProps={color:"secondary",tag:"button"},t.a=v},854:function(e,t,n){"use strict";var a=n(3),c=n(0),i=n.n(c),o=n(319),r=n(910),l=n(706);t.a=function(e){var t=e.style,n=e.setConfig,c=e.customerId,u=Object(l.b)((function(e){return e.thucDonDuTruSetting})),s=u.khachHangsArray,d=u.khachHangs,f=null===d||void 0===d?void 0:d[c];return i.a.useEffect((function(){var e;!(null===f||void 0===f?void 0:f.id)&&n&&(console.log(null===s||void 0===s?void 0:s[0]),n(["customerId"],((null===s||void 0===s||null===(e=s[0])||void 0===e?void 0:e.id)||"")+""))}),[f,s]),i.a.createElement(o.a,{title:"Ch\u1ecdn n\u01a1i ph\u1ee5c v\u1ee5"},i.a.createElement(r.a,{onChange:function(e){n&&n(["customerId"],e)},value:c,style:Object(a.a)({width:"140px"},t)},(s||[]).map((function(e){return i.a.createElement(r.a.Option,{key:e.id,value:"".concat(e.id)},e.name)}))))}},855:function(e,t,n){"use strict";var a=n(10),c=n(0),i=n.n(c),o=n(319),r=n(910),l=Array(52).fill(1).reduce((function(e,t,n){return[].concat(Object(a.a)(e),[t+n])}),[]),u=function(e){var t=e.setConfig,n=e.weekId;return i.a.createElement(o.a,{title:"Ch\u1ecdn tu\u1ea7n"},i.a.createElement(r.a,{value:n,style:{width:"110px"},onChange:function(e){t(["weekId"],e)}},l.map((function(e){return i.a.createElement(r.a.Option,{key:e,value:e},"Tu\u1ea7n ",e)}))))};u.defaultProps={userConfig:{}},t.a=u}}]);